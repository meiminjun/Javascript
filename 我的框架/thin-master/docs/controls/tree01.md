树控件的基础功能
====

树控件也是一种很常用的控件，它的作用是把有层级关系的数据展现出来，因此，在层级处理上，树的复杂度比数据表格高一些，而单行的处理复杂度不及数据表格。

#1. 功能分析

Tree控件主要有以下几个功能：
- 加载数据并展示成树的形状
- 新增一个节点
- 删除一个节点
- 点击某节点选中
- 修改节点数据并刷新

Tree控件主要需要响应这样几个事件：
- 加载完成
- 选中节点变更

#2. 实现原理

#2.1 DOM结构

我们环顾各种HTML元素，发现一些适合用来表达父子结构的元素组合，那就是ul（或者ol）和li，这种结构本来是用于表达列表的，但是因为列表项本身又可以包含新的列表，而且它很好地处理了缩进，所以我们认为它是很适合来表达我们的树状结构的。

尝试写了这么一个静态的界面：

	<ul>
		<li>Jiangsu
			<ul>
				<li>Nanjing</li>
				<li>Suzhou
					<ul>
						<li>Changshu</li>
						<li>Zhangjiagang</li>
					</ul>
				</li>
			</ul>
		</li>
		<li>Yunnan
			<ul>
				<li>Kunming</li>
				<li>Lijiang</li>
			</ul>
		</li>
	</ul>

效果还不错。

#2.2 数据结构

在树控件中，我们应当可以接受两种类型的数据，一种是组装好的有层级关系的，一种是未组装的，包含层级信息，但是以单层存放的。对于后者，我们控件需要有这样的能力去把这样的数据转换成前面一种，然后再进行加载。

控件应当可以设置用数据的哪个字段来显示，也可以设置用那个字段做唯一键值，便于搜索。