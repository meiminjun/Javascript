{"version":3,"sources":["src/store/modules/fund.js"],"names":["types","http","MessageBox","state","toast","orderDetail","lists","records","withdraw","data","myliveDead","nomyliveDead","mycard","showlist","changecard","total","pageNumber","loading","loadState","checkState","nocard","getters","actions","getMyliveDead","options","commit","resolve","reject","optionsReq","url","env","qs","bankCardSign","currentPgs","pageSize","fetch","then","res","responseCode","holdNum","show_list","payload","showlive","cardshow","No","cardNo","cb","alert","title","message","responseMsg","getMyliveCards","length","car_id","i","cardType","bankName","fa_id","mutations","NOCARD","NOMYLIVE_DEAD","TOAST","C0012_INV_FUND_HOTSALE_FUND","youxuan","recommendPrdList","ORDER_DETAIL","MYCARDS","CARDFIRST","MYTOTAL","MYLIVE_DEAD","tranListArray","acctArray","concat","WITHDRAW"],"mappings":"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","file":"fund.js","sourceRoot":"/Users/apple/Documents/github/Javascript/Mei","sourcesContent":["import * as types from '../types';\nimport { http } from '../../util/ald';\n// import api from '../../api/urls';\n// import {PecMessageBox} from 'pa-ui/lib/index';\nimport { MessageBox } from 'mint-ui'\n\nconst state = {\n  toast: {},\n  //定活通\n  orderDetail:{\n    lists:[]\n  },\n  records:{\n    lists:[]\n  },\n  withdraw:{\n    data:{}\n  },\n  //我的定活通列表\n  myliveDead:{\n    lists:[],\n  },\n\n  nomyliveDead:false,\n  //卡列表\n  mycard:{\n    lists:[]\n  },\n  //我的定活通列表数组\n  showlist:{\n\n  },\n  changecard:\"\",\n  total: \"\",\n  pageNumber:0,\n  //0初始化，1加载中，2加载到最后一页\n  loading:0,\n  loadState:false,\n  checkState:\"加载更多\",\n  nocard:false\n};\n\n// getters\nconst getters = {\n\n};\n// actions\nconst actions = {\n//请求我的定活通列表\n  getMyliveDead({ commit, state }, options){\n    return new Promise((resolve,reject) => {\n    // console.log(options)\n    let optionsReq = {\n      url:\"queryDHBHold\",\n      env:\"stg3\",\n      qs:{\n        bankCardSign:options.bankCardSign,\n        currentPgs:options.currentPgs,\n        pageSize:options.pageSize\n      }\n    };\n    http.fetch(optionsReq).then(res => {\n      if (res.responseCode === '000000') {\n        if(res.data.holdNum!=0){\n          commit(types[\"MYLIVE_DEAD\"], { show_list: res.data ,currentPgs:options.currentPgs,holdNum:res.data.holdNum});\n          commit(types[\"MYTOTAL\"], {payload: res.data});\n          resolve({showlive:false,cardshow:false,data:res.data,No:options.cardNo});\n        }else {\n          // commit(types[\"NOMYLIVE_DEAD\"],{payload: res.data})\n          resolve({showlive:true,cardshow:true});\n\n        }\n        options.cb && options.cb();\n      } else {\n        MessageBox.alert({\n          title: '温馨提示',\n          message: res.responseMsg\n        })\n      }\n    })\n    });\n  },\n\n  //请求卡列表\n  getMyliveCards({ commit, state }, options){\n    return new Promise((resolve,reject) => {\n    // console.log(options)\n    let optionsReq = {\n      url:\"dhtQueryCardList\",\n      env:\"stg3\",\n      qs:{\n      }\n    };\n    http.fetch(optionsReq).then(res => {\n      if (res.responseCode === '000000') {\n        if(res.data.length==0){\n          resolve({data:res.data,car_id:true});\n        }else{\n          for(var i=0; i<res.data.length; i++){\n            if(res.data[i].cardType==\"1\"){\n              res.data[i].bankName=res.data[i].bankName+\"储蓄卡\"\n            }else if(res.data[i].cardType==\"3\"){\n              res.data[i].bankName=res.data[i].bankName+\"互联网账户\"\n            }\n          }\n          commit(types[\"MYCARDS\"], { payload: res.data });\n          resolve({data:res.data,fa_id:true}); // 成功回调\n        }\n        options.cb && options.cb();\n      } else {\n        MessageBox.alert({\n          title: '温馨提示',\n          message: res.responseMsg\n        })\n      }\n    })\n    });\n  },\n};\n// mutations\nconst mutations = {\n  [types.NOCARD](state,{}) {\n    state.nocard = true;\n  },\n  [types.NOMYLIVE_DEAD](state,{payload}) {\n    state.nomyliveDead = true;\n  },\n\n\n  [types.TOAST](state, { payload }) {\n    state.toast = payload;\n  },\n  [types.C0012_INV_FUND_HOTSALE_FUND](state, { payload }) {\n    // console.log(payload)\n    state.youxuan.lists = payload.recommendPrdList;\n  },\n  [types.ORDER_DETAIL](state, { payload }) {\n    // console.log(payload)\n    state.orderDetail.lists = payload;\n  },\n  [types.MYCARDS](state, { payload }) {\n    // console.log(payload)\n    state.mycard.lists = payload;\n  },\n  [types.CARDFIRST](state, { payload }) {\n    // console.log(payload)\n    state.changecard = payload;\n  },\n\n  [types.MYTOTAL](state,  payload ) {\n\n    state.showlist = payload.payload;\n  },\n    [types.MYLIVE_DEAD](state, payload) {\n      //state.records.lists = payload.orderRecords;\n      if (payload.currentPgs==1) {\n        state.myliveDead.lists = payload.show_list.tranListArray[0].acctArray;\n      } else{\n        state.myliveDead.lists = state.myliveDead.lists.concat(payload.show_list.tranListArray[0].acctArray);\n      }\n    },\n  ['DHT_LOADING_STATE'](state){\n    state.loading=1;\n  },\n  ['DHT_CHANGECARDSHOW'](state,payload){\n    state.changecard = payload;\n  },\n  ['DHTWW_CHANGECARDSHOW'](state,payload){\n    state.changecard = payload;\n  },\n\n  [types.WITHDRAW](state, { payload }) {\n    // console.log(payload)\n    state.withdraw.data = payload;\n  }\n}\n\nexport default {\n  state,\n  getters,\n  actions,\n  mutations\n}\n"]}